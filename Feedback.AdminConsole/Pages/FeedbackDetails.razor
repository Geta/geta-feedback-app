@page "/feedback-details/{FeedbackID}"

@inject IConfiguration Configuration

<PageTitle>Feedback App</PageTitle>

<div class="bg-white p-5 rounded-5 shadow-lg d-flex flex-column flex-shrink-0" style="width:600px; height:fit-content">
    <h1>Feedback details:</h1>
    <table class="table table-bordered table-hover">
        <thead>
            <tr>
                <th scope="col">Timestamp</th>
                <th scope="col">Subject</th>
                <th scope="col">Body</th>
                <th scope="col">Country</th>
                <th scope="col">Status</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var feedback in feedbacks)
        {
            <tr>
                <td>@feedback.Timestamp</td>
                <td>@feedback.Subject</td>
                <td>@feedback.Body</td>
                <td>@feedback.Country</td>
                <td>@feedback.Status</td>
            </tr>
        }
        </tbody>
    </table>
    <EditForm EditContext="@editContext" OnSubmit="@UpdateRecord">
        <InputSelect @bind-Value="@feedbackModel!.Status" class="form-select">
            <option selected>Choose new status...</option>
            <option value="@Feedback.Models.FeedbackModel.FeedbackStatuses.Open">@Feedback.Models.FeedbackModel.FeedbackStatuses.Open</option>
            <option value="@Feedback.Models.FeedbackModel.FeedbackStatuses.Closed">@Feedback.Models.FeedbackModel.FeedbackStatuses.Closed</option>
        </InputSelect>
        <button type="submit" class="w-100 btn btn-primary mt-3 rounded-pill">Save Changes</button>
    </EditForm>
</div>

